fileFormatVersion: 2
guid: 3fd7ba2eb1daa45488f05670ff91c22c
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\nconst UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst
    ZEPETO_Character_Controller_1 = require(\\\"ZEPETO.Character.Controller\\\");\\r\\nconst
    ZEPETO_Multiplay_1 = require(\\\"ZEPETO.Multiplay\\\");\\r\\nconst ZEPETO_Script_1
    = require(\\\"ZEPETO.Script\\\");\\r\\nconst ZepetoGameCharacter_1 = require(\\\"./ZepetoGameCharacter\\\");\\r\\nclass
    AIManager extends ZEPETO_Script_1.ZepetoScriptBehaviour {\\r\\n    constructor()
    {\\r\\n        super(...arguments);\\r\\n        this._AICount = 10;\\r\\n       
    this.isMasterClient = false;\\r\\n        this.AIGameObject = Array.from({ length:
    this._AICount }, obj => null);\\r\\n    }\\r\\n    Start() {\\r\\n        this._multiplay.add_RoomCreated((room)
    => {\\r\\n            this.SpawnAI(this._AICount);\\r\\n            this.room
    = room;\\r\\n            this.room.Send(\\\"CheckMaster\\\");\\r\\n           
    this.room.AddMessageHandler(\\\"CheckMaster\\\", (MasterClientSessionId) => {\\r\\n               
    if (this.room.SessionId == MasterClientSessionId) {\\r\\n                   
    this.InitAI(this._AICount);\\r\\n                    if (!this.isMasterClient)
    {\\r\\n                        this.isMasterClient = true;\\r\\n                       
    //this.StartCoroutine(this.SyncAIPosition(0.04));\\r\\n                    }\\r\\n                   
    //\uFFFD\uFFFD\xFC AI\uFFFD\uFFFD\uFFFD\uFFFD\u022D(\uFFFD\u0678\uFFFD \uFFFD\xF7\uFFFD\uFFFD\u033E\uFFFD
    \uFFFD\uFFFD\uFFFD\uFFFD)\\r\\n                    //this.SendAIDestination();\\r\\n                   
    for (let i = 0; i < this._AICount; i++) {\\r\\n                        //this.SendAIDestination(i);\\r\\n                   
    }\\r\\n                    console.log(\\\"ImMasterClient\\\");\\r\\n               
    }\\r\\n                else {\\r\\n                    this.room.AddMessageHandler(\\\"AIdestination\\\",
    (message) => {\\r\\n                        this.AIGameObject[message.AInumber].transform.position
    = this.ParseVector3(message.nowPos);\\r\\n                    });\\r\\n               
    }\\r\\n            });\\r\\n        });\\r\\n    }\\r\\n    //AI\\r\\n    SpawnAI(required)
    {\\r\\n        for (let i = 0; i < required; i++) {\\r\\n            const spawnInfo
    = new ZEPETO_Character_Controller_1.SpawnInfo();\\r\\n            const position
    = new UnityEngine_1.Vector3(UnityEngine_1.Random.Range(-25, 25), 0, UnityEngine_1.Random.Range(-25,
    25));\\r\\n            const rotation = new UnityEngine_1.Vector3(0, UnityEngine_1.Random.Range(-180,
    180), 0);\\r\\n            spawnInfo.position = position;\\r\\n            spawnInfo.rotation
    = UnityEngine_1.Quaternion.Euler(rotation);\\r\\n            $extension(\\\"ZEPETO.Character.Controller.ZepetoPlayersExtension\\\").CreatePlayerWithUserId(ZEPETO_Character_Controller_1.ZepetoPlayers.instance,
    \\\"AI_\\\" + i.toString(), \\\"\\\", spawnInfo, false);\\r\\n        }\\r\\n   
    }\\r\\n    InitAI(required) {\\r\\n        for (let i = 0; i < required; i++)
    {\\r\\n            const aiPlayer = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.GetPlayer(\\\"AI_\\\"
    + i.toString());\\r\\n            this.AIGameObject[i] = aiPlayer.character.gameObject;\\r\\n           
    aiPlayer.character.tag = \\\"AI\\\";\\r\\n            aiPlayer.character.name
    = \\\"AI_\\\" + i.toString();\\r\\n            aiPlayer.character.transform.gameObject.AddComponent($typeof(ZepetoGameCharacter_1.default));\\r\\n       
    }\\r\\n    }\\r\\n    *SyncAIPosition(tick) {\\r\\n        while (true) {\\r\\n           
    for (let i = 0; i < this._AICount; i++) {\\r\\n                //this.SendAIDestination(i);\\r\\n           
    }\\r\\n            yield new UnityEngine_1.WaitForSeconds(tick);\\r\\n       
    }\\r\\n    }\\r\\n    SendAIDestination(AInumber) {\\r\\n        const nowX =
    this.AIGameObject[AInumber].transform.localPosition.x;\\r\\n        const nowY
    = this.AIGameObject[AInumber].transform.localPosition.x;\\r\\n        const nowZ
    = this.AIGameObject[AInumber].transform.localPosition.x;\\r\\n        const nextX
    = nowX + UnityEngine_1.Random.Range(-25, 25);\\r\\n        const nextY = nowY
    + UnityEngine_1.Random.Range(-25, 25);\\r\\n        const data = new ZEPETO_Multiplay_1.RoomData();\\r\\n       
    data.Add(\\\"AInumber\\\", AInumber);\\r\\n        const nowPos = new ZEPETO_Multiplay_1.RoomData();\\r\\n       
    nowPos.Add(\\\"x\\\", nowX);\\r\\n        nowPos.Add(\\\"y\\\", nowY);\\r\\n       
    nowPos.Add(\\\"z\\\", nowZ);\\r\\n        data.Add(\\\"nowPos\\\", nowPos.GetObject());\\r\\n       
    const nexPos = new ZEPETO_Multiplay_1.RoomData();\\r\\n        nexPos.Add(\\\"x\\\",
    nextX);\\r\\n        nexPos.Add(\\\"y\\\", nextY);\\r\\n        nexPos.Add(\\\"z\\\",
    0);\\r\\n        data.Add(\\\"nexPos\\\", nexPos.GetObject());\\r\\n        this.room.Send(\\\"AIdestination\\\",
    data.GetObject());\\r\\n    }\\r\\n    ParseVector3(vector3) {\\r\\n        return
    new UnityEngine_1.Vector3(vector3.x, vector3.y, vector3.z);\\r\\n    }\\r\\n}\\r\\nexports.default
    = AIManager;\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQUlNYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQUlNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXNGO0FBQ3RGLDZFQUF1RTtBQUN2RSx1REFBa0Q7QUFDbEQsaURBQXFEO0FBRXJELCtEQUF3RDtBQVF4RCxNQUFxQixTQUFVLFNBQVEscUNBQXFCO0lBQTVEOztRQUNXLGFBQVEsR0FBVyxFQUFFLENBQUM7UUFJckIsbUJBQWMsR0FBWSxLQUFLLENBQUM7UUFDaEMsaUJBQVksR0FBaUIsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLENBQUMsUUFBUSxFQUFDLEVBQUMsR0FBRyxDQUFBLEVBQUUsQ0FBQSxJQUFJLENBQUMsQ0FBQztJQThGdEYsQ0FBQztJQTNGRyxLQUFLO1FBQ0QsSUFBSSxDQUFDLFVBQVUsaUJBQWdCLENBQUMsSUFBVSxFQUFFLEVBQUU7WUFDMUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFFakIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7WUFFN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxFQUFFO2dCQUNqRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLHFCQUFxQixFQUFFO29CQUM5QyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7d0JBQ3RCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO3dCQUMzQixpREFBaUQ7cUJBQ3BEO29CQUNELDhCQUE4QjtvQkFDOUIsMkJBQTJCO29CQUMzQixLQUFLLElBQUksQ0FBQyxHQUFH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\",\"assetPath\":\"Assets/ZepetoScripts/Game/AIManager.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"mscorlib\",\"name\":\"_AICount\",\"type\":\"System.Single\",\"isArray\":false,\"initValue\":[\"10\"],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"ZEPETO.World\",\"name\":\"_multiplay\",\"type\":\"ZEPETO.World.ZepetoWorldMultiplay\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]}],\"name\":\"AIManager\",\"description\":\"\"},\"isCompiled\":true}"
  typescriptHash: d258e3572fd737cff97d3a70dfb6da34
  onlyWriteTrigger: 0
